<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pac-Man Game</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <style>
        /* General game styles */
        body {
            background-color: #000;
            color: #fff;
            font-family: Arial, sans-serif;
        }

        h1 {
            text-align: center;
            margin: 20px 0;
            color: #ff0;
        }

        .game-container {
            max-width: 600px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .game-board {
            position: relative;
            width: 300px;
            height: 300px;
            background-color: #222;
            border: 5px solid #fff;
            border-radius: 10px;
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            grid-template-rows: repeat(10, 1fr);
            gap: 2px;
        }

        .cell {
            background-color: #444;
            border-radius: 2px;
        }

        .cell.food {
            background-color: #ff0;
        }

        .pacman {
            background-color: #ff0;
            border-radius: 50%;
        }

        .ghost {
            background-color: red;
            border-radius: 50%;
        }

        .controls {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .btn-control {
            width: 60px;
            height: 60px;
            font-size: 24px;
            color: #fff;
            background-color: #007bff;
            border: none;
            border-radius: 50%;
        }

        .btn-control:focus {
            outline: none;
        }

        @media (max-width: 600px) {
            .game-board {
                width: 100%;
                height: 100%;
            }

            .btn-control {
                width: 50px;
                height: 50px;
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <h1>Pac-Man Game</h1>
    <div class="game-container">
        <!-- Game Board -->
        <div id="gameBoard" class="game-board"></div>

        <!-- Controls -->
        <div class="controls">
            <button class="btn-control" onclick="move('up')">↑</button>
        </div>
        <div class="controls">
            <button class="btn-control" onclick="move('left')">←</button>
            <button class="btn-control" onclick="move('down')">↓</button>
            <button class="btn-control" onclick="move('right')">→</button>
        </div>
    </div>

    <script>
        // Game constants
        const boardSize = 10; // 10x10 grid
        const gameBoard = document.getElementById("gameBoard");
        const directions = {
            up: { row: -1, col: 0 },
            down: { row: 1, col: 0 },
            left: { row: 0, col: -1 },
            right: { row: 0, col: 1 },
        };

        let pacman = { row: 0, col: 0 }; // Pac-Man's initial position
        let ghost = { row: 5, col: 5 }; // Ghost's initial position
        let score = 0;

        // Create the game board with food
        function createBoard() {
            gameBoard.innerHTML = ""; // Clear the board
            for (let row = 0; row < boardSize; row++) {
                for (let col = 0; col < boardSize; col++) {
                    const cell = document.createElement("div");
                    cell.classList.add("cell");
                    if (row === pacman.row && col === pacman.col) {
                        cell.classList.add("pacman");
                    } else if (row === ghost.row && col === ghost.col) {
                        cell.classList.add("ghost");
                    } else if (Math.random() > 0.8) {
                        cell.classList.add("food");
                    }
                    cell.dataset.row = row;
                    cell.dataset.col = col;
                    gameBoard.appendChild(cell);
                }
            }
        }

        // Move Pac-Man based on the given direction
        function move(direction) {
            const newRow = pacman.row + directions[direction].row;
            const newCol = pacman.col + directions[direction].col;

            // Check boundaries
            if (newRow >= 0 && newRow < boardSize && newCol >= 0 && newCol < boardSize) {
                pacman.row = newRow;
                pacman.col = newCol;

                // Check for food
                const targetCell = document.querySelector(
                    `.cell[data-row='${pacman.row}'][data-col='${pacman.col}']`
                );
                if (targetCell.classList.contains("food")) {
                    targetCell.classList.remove("food");
                    score++;
                    console.log(`Score: ${score}`);
                }

                // Check for ghost collision
                if (pacman.row === ghost.row && pacman.col === ghost.col) {
                    alert("Game Over! Final Score: " + score);
                    resetGame();
                    return;
                }

                moveGhost(); // Move the ghost after Pac-Man
                createBoard(); // Redraw the board
            }
        }

        // Random movement for the ghost
        function moveGhost() {
            const possibleDirections = Object.values(directions);
            const randomDirection =
                possibleDirections[Math.floor(Math.random() * possibleDirections.length)];
            const newRow = ghost.row + randomDirection.row;
            const newCol = ghost.col + randomDirection.col;

            // Check boundaries for ghost
            if (newRow >= 0 && newRow < boardSize && newCol >= 0 && newCol < boardSize) {
                ghost.row = newRow;
                ghost.col = newCol;
            }

            // Check for collision with Pac-Man
            if (pacman.row === ghost.row && pacman.col === ghost.col) {
                alert("Game Over! Final Score: " + score);
                resetGame();
            }
        }

        // Reset the game
        function resetGame() {
            pacman = { row: 0, col: 0 };
            ghost = { row: 5, col: 5 };
            score = 0;
            createBoard();
        }

        // Initialize the game
        createBoard();
    </script>
</body>
</html>
